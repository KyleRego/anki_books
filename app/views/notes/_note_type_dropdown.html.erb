<%# Anki Books, a note-taking app to organize knowledge, %>
<%# is licensed under the GNU Affero General Public License, version 3 %>
<%# Copyright (C) 2025 Kyle Rego %>

<div class="dropdown">
  <button type="button"
          class="btn btn-outline-primary dropdown-toggle"
          data-bs-toggle="dropdown">
    <% if @target_note_type == NotesController::BASIC_NOTE_TYPE %>
      Basic note
    <% elsif @target_note_type == NotesController::CLOZE_NOTE_TYPE %>
      Cloze note
    <% end %>
  </button>
  <ul class="dropdown-menu">
    <% unless @target_note_type.instance_of?(BasicNote) %>
    <li><%= link_to("Basic note",
          switch_note_type_path(@article,
                  note_type: @note.class.name,
                  target_note_type: NotesController::BASIC_NOTE_TYPE),
          class: "dropdown-item",
          data: { turbo_frame: "modal" }) %>
    </li>
    <% end %>
    <% unless @target_note_type.instance_of?(ClozeNote) %>
    <li><%= link_to("Cloze note",
          switch_note_type_path(@article,
                  note_type: @note.class.name,
                  target_note_type: NotesController::CLOZE_NOTE_TYPE),
          class: "dropdown-item",
          data: { turbo_frame: "modal" }) %>
    </li>
    <% end %>
  </ul>
</div>
