<%# Anki Books, a note-taking app to organize knowledge, %>
<%# is licensed under the GNU Affero General Public License, version 3 %>
<%# Copyright (C) 2023 Kyle Rego %>

<%# The id attribute here is used to POST the right article_id param to articles#change_note_ordinal_position %>
<%# The divs with class reorderable-basic-note-unit must be direct children of this container %>
<div id="article-notes-<%= @article.id %>"
     class="sm:max-height-calc-from-screen sm:sticky sm:top-12 sm:w-4/12 sm:ml-4
            sm:overflow-x-auto sm:overflow-y-scroll h-full max-h-full reorderable-basic-note-units-container">

  <% if logged_in? && !@books_show %>
    <%= render "articles/basic_note/first_new_basic_note_link" %>
  <% end %>

  <% @basic_notes&.each do |basic_note| %>
    <% @basic_note = basic_note %>
    <% if @books_show %>
      <%= render partial: "books/basic_note/show" %>
    <% else %>
      <%= render partial: "articles/basic_note/show" %>
    <% end %>
  <% end %>
</div>
